// Code generated by go generate; DO NOT EDIT.

package static // import "miniflux.app/ui/static"

var Javascripts = map[string]string{
	"app":            `!function(){'use strict';class a{static isVisible(a){return a.offsetParent!==null}static openNewTab(b){let a=window.open("");a.opener=null,a.location=b,a.focus()}static scrollPageTo(a){let d=window.pageYOffset,b=document.documentElement.clientHeight,c=d+b,e=a.offsetTop+a.offsetHeight;(c-e<0||c-a.offsetTop>b)&&window.scrollTo(0,a.offsetTop-10)}static getVisibleElements(c){let a=document.querySelectorAll(c),b=[];for(let c=0;c<a.length;c++)this.isVisible(a[c])&&b.push(a[c]);return b}static findParent(a,b){for(;a&&a!==document;a=a.parentNode)if(a.classList.contains(b))return a;return null}static hasPassiveEventListenerOption(){var b=!1,a;try{a=Object.defineProperty({},"passive",{get:function(){b=!0}}),window.addEventListener("test",a,a),window.removeEventListener("test",a,a)}catch(a){b=!1}return b}}class aa{constructor(a){this.className=a,this.listeners={start:[],move:[],active:[],end:[]},this.reset(),this.addEventListener("move",a=>{if(!this.touch.element)return;this.touch.element.style.opacity=1-a.phase,this.touch.element.style.transform="translateX("+a.offset+"px)"})}reset(){this.touch={start:{x:-1,y:-1},move:{x:-1,y:-1},element:null,flagDrag:!1}}calculateDistance(){return this.touch.move.x-this.touch.start.x}detectDrag(){if(this.touch.flagDrag)return;if(this.touch.start.x>=-1&&this.touch.move.x>=-1){let a=Math.abs(this.touch.move.x-this.touch.start.x),b=Math.abs(this.touch.move.y-this.touch.start.y);a>30&&b<70&&(this.touch.flagDrag=!0,this.runListeners(this.listeners.start))}}findElement(b){return b.classList.contains(this.className)?b:a.findParent(b,this.className)}onTouchStart(a){if(a.touches===void 0||a.touches.length!==1)return;this.reset(),this.touch.start.x=a.touches[0].clientX,this.touch.start.y=a.touches[0].clientY,this.touch.element=this.findElement(a.touches[0].target)}onTouchMove(a){if(a.touches===void 0||a.touches.length!==1||this.element===null)return;this.touch.move.x=a.touches[0].clientX,this.touch.move.y=a.touches[0].clientY,this.detectDrag(),this.touch.flagDrag&&(this.runListeners(this.listeners.move),a.preventDefault())}onTouchEnd(a){if(a.touches===void 0)return;if(this.touch.element!==null){let a=this.calculateDistance();Math.abs(a)>75?this.runListeners(this.listeners.active):this.runListeners(this.listeners.end),this.touch.element.style.opacity=1,this.touch.element.style.transform="none"}this.reset()}listen(){let c=document.querySelectorAll('.'+this.className),b=a.hasPassiveEventListenerOption();c.forEach(a=>{a.addEventListener("touchstart",a=>this.onTouchStart(a),!!b&&{passive:!0}),a.addEventListener("touchmove",a=>this.onTouchMove(a),!!b&&{passive:!1}),a.addEventListener("touchend",a=>this.onTouchEnd(a),!!b&&{passive:!0}),a.addEventListener("touchcancel",()=>this.reset(),!!b&&{passive:!0})})}addEventListener(b,a){switch(b){case"active":this.listeners.active.push(a);break;case"move":this.listeners.move.push(a);break;case"start":this.listeners.start.push(a);break;case"end":this.listeners.end.push(a);break;default:break}}runListeners(a){a.forEach(b=>{let a=this.calculateDistance();a>75?a=75:a<-75&&(a=-75);let c=a>0?"right":"left";b({target:this.touch.element,direction:c,offset:a,phase:Math.abs(a)/75})})}}function $(){let b=new aa('touch-item');b.addEventListener("start",a=>{j.close()}),b.addEventListener("move",a=>{if(a.direction=="left"){let b=document.querySelector("#modal-container .modal");b?b.style.transform="translateX("+(1-a.phase)*100+"%)":j.initialize(a.target)}else j.close()}),b.addEventListener("active",a=>{a.direction=="right"&&s(a.target)}),b.addEventListener("end",a=>j.close()),b.listen();let d=document.querySelector(".entry-content");if(d){let f=a.hasPassiveEventListenerOption(),b={previous:null,next:null};const e=(a,d)=>{const e=b[a];e===null?b[a]=setTimeout(()=>{b[a]=null},200):(d.preventDefault(),c(a))};d.addEventListener("touchend",a=>{a.changedTouches[0].clientX>=d.offsetWidth/2?e("next",a):e("previous",a)},!!f&&{passive:!1}),d.addEventListener("touchmove",a=>{Object.keys(b).forEach(a=>b[a]=null)})}}class Y{constructor(){this.queue=[],this.shortcuts={},this.triggers=[]}on(a,b){this.shortcuts[a]=b,this.triggers.push(a.split(" ")[0])}listen(){document.onkeydown=a=>{let b=this.getKey(a);if(this.isEventIgnored(a,b)||this.isModifierKeyDown(a))return;a.preventDefault(),this.queue.push(b);for(let c in this.shortcuts){let d=c.split(" ");if(d.every((a,b)=>a===this.queue[b])){this.queue=[],this.shortcuts[c](a);return}if(d.length===1&&b===d[0]){this.queue=[],this.shortcuts[c](a);return}}this.queue.length>=2&&(this.queue=[])}}isEventIgnored(a,b){return a.target.tagName==="INPUT"||a.target.tagName==="TEXTAREA"||this.queue.length<1&&!this.triggers.includes(b)}isModifierKeyDown(a){return a.getModifierState("Control")||a.getModifierState("Alt")||a.getModifierState("Meta")}getKey(b){const a={Esc:'Escape',Up:'ArrowUp',Down:'ArrowDown',Left:'ArrowLeft',Right:'ArrowRight'};for(let c in a)if(a.hasOwnProperty(c)&&c===b.key)return a[c];return b.key}}class d{constructor(a){this.callback=null,this.url=a,this.options={method:"POST",cache:"no-cache",credentials:"include",body:null,headers:new Headers({"Content-Type":"application/json","X-Csrf-Token":this.getCsrfToken()})}}withHttpMethod(a){return this.options.method=a,this}withBody(a){return this.options=Object.assign(this.options,{body:JSON.stringify(a),headers:new Headers({"Content-Type":"application/json","X-Csrf-Token":this.getCsrfToken()})}),this}withForm(a){let b=new FormData;for(let c in a)b.append(c,a[c]);return this.options=Object.assign(this.options,{body:b,headers:new Headers({"X-Csrf-Token":this.getCsrfToken()})}),this}withCallback(a){return this.callback=a,this}getCsrfToken(){let a=document.querySelector("meta[name=X-CSRF-Token]");return a!==null?a.getAttribute("value"):""}execute(){fetch(new Request(this.url,this.options)).then(a=>{this.callback&&this.callback(a)})}}class e{static open(c){e.close();let a=document.createElement("div");a.id="modal-container",a.appendChild(document.importNode(c,!0)),document.body.appendChild(a);let b=document.querySelector("a.btn-close-modal");return b!==null&&(b.onclick=a=>{a.preventDefault(),e.close()}),a}static close(){let a=document.getElementById("modal-container");a!==null&&a.parentNode.removeChild(a)}}class X{constructor(){this.listeners={},document.querySelectorAll(".tabs").forEach(a=>{this.add(a)})}add(b){let d=this,a=b.querySelectorAll('.tab-head li'),c=b.querySelectorAll('.tab-body .tab-content');if(!a.length||!c.length)return;this.listeners[b]=[];let e=function(){return function(){for(var e=0,f=a.length;e<f;e++)if(a[e]===this){a[e].classList.add('active'),c[e].classList.add('active');for(let f of d.listeners[b])f.call(a[e],a[e],c[e],e)}else a[e].classList.remove('active'),c[e].classList.remove('active')}}();a.forEach(a=>{a.addEventListener("click",e)})}addEventListener(a,b){if(typeof a=='string'&&(a=document.querySelector(a)),!a||!this.listeners[a])return;this.listeners[a].push(b)}}class C{static switchHandler(d,e,c){let a=document.querySelector('#preview-content'),b=document.querySelector('#form-content');c==0?b.value=a.innerHTML:a.innerHTML=b.value}static submitHandler(){let b=document.querySelector('#preview-content'),c=document.querySelector('#form-content'),d=a.findParent(b,"tab-content");d.classList.contains('active')&&(c.value=b.innerHTML),document.querySelector("#entry-form").submit()}}class j{static initialize(i){let a=f(i);if(!a)return;g()&&(this.deselectEntries(),this.highlightEntry(a)),e.close();let c=document.getElementById("action-menus");if(c===null)return;let b;g()?(b=h(a.querySelectorAll(".item-meta a"),"entries"),document.querySelector("#menu-mark-above-read").addEventListener("click",()=>{F(a),e.close(),this.deselectEntries()})):a.classList.contains("entry")&&(b=h(a.querySelectorAll(".entry-actions a"),"entry")),document.querySelector("#menu-action-cancel").addEventListener("click",()=>{e.close(),this.deselectEntries()});let d=b.querySelector(".modal");if(d===null)return;setTimeout(()=>{d.classList.add("fade")},100);function h(b,d){let f=e.open(c.content),a=document.querySelector(".action-menus #element-links");while(a.hasChildNodes())a.removeChild(a.firstChild);return b.forEach(b=>{if(b.dataset.actionMenuExcluded!==void 0)return;let c=document.createElement("li");c.innerText=b.innerText,c.addEventListener("click",()=>{j(b),e.close()}),a.appendChild(c)}),document.querySelectorAll(".action-menus li[data-for]").forEach(a=>{a.dataset.for!==d&&(a.style.display='none')}),f}function j(b){let a=document.createEvent("MouseEvents");a.initEvent("click",!0,!0),b.dispatchEvent(a)}}static close(){this.deselectEntries(),e.close()}static switch(a){let b=document.querySelector(".item.current-item"),c=f(a),d=document.querySelector("#modal-container .modal");d&&b===c?this.close():this.initialize(a)}static highlightEntry(a){a.classList.add("current-item")}static deselectEntries(){document.querySelectorAll(".current-item").forEach(a=>a.classList.remove("current-item"))}}class W{static add(b,c,d){var a=e(b);if(!a)return;a(),window.addEventListener('scroll',E(a,500,1e3),!1);function e(b){let a=0;return function(){let f=Array.from(document.querySelectorAll(b));if(!f||!f.length)return null;let g=f.length;if(g<=a)return;let h=document.documentElement.clientHeight,i=document.documentElement.scrollTop||document.body.scrollTop,e=0;for(e=a;e<g;e++)if(f[e].offsetTop>h+i)break;if(e<=a)return;a=e,f.slice(0,a+10).reduce((a,b)=>(a.push(...Array.from(b.querySelectorAll('img.lazy'))),a),[]).filter(a=>a&&a.dataset.src!=="").forEach(a=>{a.src=a.dataset.src,a.dataset.src="",imagesLoaded(a).on(c,d)})}}}}function b(a,b,c){let d=document.querySelectorAll(a);d.forEach(a=>{a.onclick=a=>{c||a.preventDefault(),b(a)}})}function V(){let b=document.querySelector(".header nav ul");a.isVisible(b)?b.style.display="none":b.style.display="block";let c=document.querySelector(".header .search");a.isVisible(c)?c.style.display="none":c.style.display="block"}function U(b){let a=b.target;a.tagName==="A"?window.location.href=a.getAttribute("href"):window.location.href=a.querySelector("a").getAttribute("href")}function S(){let a=document.querySelectorAll("form");a.forEach(a=>{a.onsubmit=()=>{let b=a.querySelector("button");b&&(b.innerHTML=b.dataset.labelLoading,b.disabled=!0)}})}function v(b){b.preventDefault(),b.stopPropagation();let c=document.querySelector(".search-toggle-switch");c&&(c.style.display="none");let d=document.querySelector(".search-form");d&&(d.style.display="block");let a=document.getElementById("search-input");a&&(a.focus(),a.value="")}function R(){let a=document.getElementById("keyboard-shortcuts");if(a!==null){let c=e.open(a.content),b=c.querySelector(".modal");if(b===null)return;setTimeout(()=>{b.classList.add("fade")},100)}}function u(){let d=a.getVisibleElements(".items .item"),b=[];d.forEach(a=>{a.classList.add("item-status-read"),b.push(parseInt(a.dataset.id,10))}),b.length>0&&h(b,"read",()=>{let a=document.querySelector("a[data-action=markPageAsRead]"),b=!1;a&&(b=a.dataset.showOnlyUnread||!1),b?(window.scrollTo(0,0),window.location.reload()):c("next",!0)})}function r(b){let c=!b,a=f(b);a&&(s(a,c),g()&&a.classList.contains('current-item')&&p())}function s(b,d){let f=parseInt(b.dataset.id,10),a=b.querySelector("a[data-toggle-status]"),c=a.dataset.value,e=c==="read"?"unread":"read";h([f],e),c==="read"?(a.innerHTML='<span class="icon-label">'+a.dataset.labelRead+'</span>',a.dataset.value="unread",d&&i(a.dataset.toastUnread)):(a.innerHTML='<span class="icon-label">'+a.dataset.labelUnread+'</span>',a.dataset.value="read",d&&i(a.dataset.toastRead)),b.classList.contains("item-status-"+c)&&(b.classList.remove("item-status-"+c),b.classList.add("item-status-"+e))}function P(a){if(a.classList.contains("item-status-unread")){a.classList.remove("item-status-unread"),a.classList.add("item-status-read");let b=parseInt(a.dataset.id,10);h([b],"read")}}function N(){let b=document.body.dataset.refreshAllFeedsUrl,a=new d(b);a.withCallback(()=>{window.location.reload()}),a.withHttpMethod("GET"),a.execute()}function h(c,b,e){let f=document.body.dataset.entriesStatusUrl,a=new d(f);a.withBody({entry_ids:c,status:b}),a.withCallback(e),a.execute(),b==="read"?n(1):T(1)}function w(a){let c=!a,b=f(a);b&&L(b.querySelector("a[data-save-entry]"),c)}function M(a){if(!a)return;let b=new d(a.dataset.url);b.withForm({view:a.dataset.value}),b.withCallback(a=>{a.ok&&location.reload()}),b.execute()}function y(){let a=document.querySelector("a[data-action=nsfw]");if(!a||!a.dataset.url)return;let b=new d(a.dataset.url);b.withCallback(a=>{a.ok&&location.reload()}),b.execute()}function L(a,c){if(!a)return;if(a.dataset.completed)return;let e=a.innerHTML;a.innerHTML='<span class="icon-label">'+a.dataset.labelLoading+'</span>';let b=new d(a.dataset.saveUrl);b.withCallback(()=>{a.innerHTML=e,a.dataset.completed=!0,c&&i(a.dataset.toastDone)}),b.execute()}function A(a){let c=!a,b=f(a);b&&I(b,c)}function I(b,c){let a=b.querySelector("a[data-toggle-bookmark]");if(!a)return;a.innerHTML='<span class="icon-label">'+a.dataset.labelLoading+'</span>';let e=new d(a.dataset.bookmarkUrl);e.withCallback(()=>{a.dataset.value==="star"?(a.innerHTML='<span class="icon-label">'+a.dataset.labelStar+'</span>',a.dataset.value="unstar",b.classList.remove('item-starred'),c&&i(a.dataset.toastUnstar)):(a.innerHTML='<span class="icon-label">'+a.dataset.labelUnstar+'</span>',a.dataset.value="star",b.classList.add('item-starred'),c&&i(a.dataset.toastStar))}),e.execute()}function ac(a){let b=f(a);b&&H(document.querySelector(".entry"))}function H(c){let a=c.querySelector("a[data-toggle-cache]");if(!a)return;a.innerHTML=a.dataset.labelLoading;let b=new d(a.dataset.cacheUrl);b.withCallback(()=>{a.dataset.value==="cached"?(a.innerHTML=a.dataset.labelCached,a.dataset.value="uncached"):(a.innerHTML=a.dataset.labelUncached,a.dataset.value="cached")}),b.execute()}function G(a){if(!a)return;let b=a.querySelector("a[data-set-read]"),c=!b.dataset.noRequest;if(c){let b=parseInt(a.dataset.id,10);h([b],"read")}b=a.querySelector("a[data-toggle-status]"),b&&b.dataset.value==="unread"&&(b.innerHTML=b.dataset.labelUnread,b.dataset.value="read"),a&&a.classList.contains("item-status-unread")&&(a.classList.remove("item-status-unread"),a.classList.add("item-status-read"),m,n(1))}function F(g){let c=f(g),b=a.getVisibleElements(".items .item");if(!c||b.length===0)return;let d=[],e=[];for(let a=0;a<b.length;a++){if(b[a]==c)break;d.push(b[a]),e.push(parseInt(b[a].dataset.id,10))}h(e,"read",()=>{d.map(a=>{let b=a.querySelector("a[data-toggle-status]");b&&b.dataset.value==="unread"&&(b.innerHTML=b.dataset.labelUnread,b.dataset.value="read"),a&&a.classList.contains("item-status-unread")&&(a.classList.remove("item-status-unread"),a.classList.add("item-status-read"),n(1))})})}function q(){if(g())return;let a=document.querySelector("a[data-fetch-content-entry]");if(!a)return;let c=a.innerHTML;a.innerHTML='<span class="icon-label">'+a.dataset.labelLoading+'</span>';let b=new d(a.dataset.fetchContentUrl);b.withCallback(b=>{a.innerHTML=c,b.json().then(a=>{a.hasOwnProperty("content")&&(document.querySelector(".entry-content").innerHTML=a.content)})}),b.execute()}function D(d){let b=document.querySelector(".entry h1 a");if(b!==null){d?window.location.href=b.getAttribute("href"):a.openNewTab(b.getAttribute("href"));return}let c=document.querySelector(".current-item a[data-original-link]");if(c!==null){a.openNewTab(c.getAttribute("href"));let b=document.querySelector(".current-item");document.location.href!=document.querySelector('a[data-page=starred]').href&&p(),P(b)}}function B(b){if(g()){let b=document.querySelector(".current-item a[data-comments-link]");b!==null&&a.openNewTab(b.getAttribute("href"))}else{let c=document.querySelector("a[data-comments-link]");if(c!==null){b?window.location.href=c.getAttribute("href"):a.openNewTab(c.getAttribute("href"));return}}}function J(){let a=document.querySelector(".current-item .item-title a");a!==null&&(window.location.href=a.getAttribute("href"))}function K(){let a=document.querySelectorAll("[data-action=remove-feed]");if(a.length===1){let b=a[0],c=new d(b.dataset.url);c.withCallback(()=>{b.dataset.redirectUrl?window.location.href=b.dataset.redirectUrl:window.location.reload()}),c.execute()}}function c(b,c){let a=document.querySelector("a[data-page="+b+"]");a?document.location.href=a.href:c&&window.location.reload()}function l(){g()?Q():c("previous")}function k(){g()?p():c("next")}function O(){x()?t():c('feeds')}function t(){if(x()){let a=document.querySelector("span.entry-website a");a!==null&&(window.location.href=a.href)}else{let a=document.querySelector(".current-item a[data-feed-link]");a!==null&&(window.location.href=a.getAttribute("href"))}}function Q(){let b=a.getVisibleElements(".items .item");if(b.length===0)return;if(document.querySelector(".current-item")===null){b[0].classList.add("current-item"),b[0].querySelector('.item-header a').focus();return}for(let c=0;c<b.length;c++)if(b[c].classList.contains("current-item")){b[c].classList.remove("current-item");let d;c-1>=0?d=b[c-1]:d=b[b.length-1],d.classList.add("current-item"),a.scrollPageTo(d),d.querySelector('.item-header a').focus();break}}function p(){let b=a.getVisibleElements(".items .item");if(b.length===0)return;if(document.querySelector(".current-item")===null){b[0].classList.add("current-item"),b[0].querySelector('.item-header a').focus();return}for(let c=0;c<b.length;c++)if(b[c].classList.contains("current-item")){b[c].classList.remove("current-item");let d;c+1<b.length?d=b[c+1]:d=b[0],d.classList.add("current-item"),a.scrollPageTo(d),d.querySelector('.item-header a').focus();break}}function n(a){m(b=>b-a)}function T(a){m(b=>b+a)}function m(a){let b=document.querySelectorAll("span.unread-counter");if(b.forEach(b=>{let c=parseInt(b.textContent,10);b.innerHTML=a(c)}),window.location.href.endsWith('/unread')){let b=parseInt(document.title.split('(')[1],10),c=a(b);document.title=document.title.replace(/(.*?)\(\d+\)(.*?)/,function(d,a,b,e,f){return a+'('+c+')'+b})}}function x(){return document.querySelector("section.entry")!==null}function g(){return document.querySelector(".items")!==null}function f(b){return g()?b?a.findParent(b,"item"):document.querySelector(".current-item"):document.querySelector(".entry")}function z(a,f){a.tagName!='A'&&(a=a.parentNode),a.style.display="none";let e=a.parentNode,b=document.createElement("span"),c=document.createElement("a");c.href="#",c.appendChild(document.createTextNode(a.dataset.labelYes)),c.onclick=d=>{d.preventDefault();let c=document.createElement("span");c.className="loading",c.appendChild(document.createTextNode(a.dataset.labelLoading)),b.remove(),e.appendChild(c),f(a.dataset.url,a.dataset.redirectUrl)};let d=document.createElement("a");d.href="#",d.appendChild(document.createTextNode(a.dataset.labelNo)),d.onclick=c=>{c.preventDefault(),a.style.display="inline",b.remove()},b.className="confirm",b.appendChild(document.createTextNode(a.dataset.labelQuestion+" ")),b.appendChild(c),b.appendChild(document.createTextNode(", ")),b.appendChild(d),e.appendChild(b)}function Z(){let a,c=document.querySelector('.masonry');if(c){let b=new Masonry(c,{itemSelector:'.item',columnWidth:'.item-sizer',gutter:10});a=E(()=>b.layout(),500,1e3),a()}let b=document.querySelectorAll(".masonry img");if(a&&b.length){W.add(".item",'progress',a),b.forEach(b=>{b.addEventListener("error",c=>{if(b&&b.src==location.href)return;b?(b.src=o(b.src),b=void 0):(c.target.parentNode.removeChild(c.target),a())})});return}b=document.querySelectorAll(".entry-content img"),b.forEach(a=>{a.addEventListener("error",b=>{a&&(a.src=o(a.src),a=void 0)})})}function _(){let a=document.querySelectorAll(".entry-content img");a.forEach(a=>a.src=o(a.src))}function o(c){let b=c.split('?'),a=b[1]?b[1].split('&'):[];for(let b=0;b<a.length;b++)a[b].toLowerCase().startsWith("proxy=")&&a.splice(b,1);return a.push("proxy=force"),b[0]+'?'+a.join('&')}function i(a){if(!a)return;document.querySelector('.toast-wrap .toast-msg').innerHTML=a;let b=document.querySelector('.toast-wrap');b.classList.remove('toastAnimate'),setTimeout(function(){b.classList.add('toastAnimate')},100)}function ab(){let b=document.querySelector('#form-category'),a=document.querySelector('#form-feed');if(!b||!a)return;let c=document.createElement('span');a.appendChild(c),b.addEventListener("change",d=>{while(a.options.length)c.appendChild(a.options[0]);for(let c of a.querySelectorAll("span>option"))(!b.value||b.value==c.dataset.category)&&a.appendChild(c);return!0})}function E(a,d,e){var b=null,c=new Date;return function(...f){var g=new Date;clearTimeout(b),g-c>=e?(a(...f),c=g):b=setTimeout(()=>a(...f),d)}}document.addEventListener("DOMContentLoaded",function(){if(S(),Z(),$(),ab(),!document.querySelector("body[data-disable-keyboard-shortcuts=true]")){let a=new Y;a.on("g u",()=>c("unread")),a.on("g b",()=>c("starred")),a.on("g h",()=>c("history")),a.on("g f",()=>O()),a.on("g c",()=>c("categories")),a.on("g s",()=>c("settings")),a.on("ArrowLeft",()=>l()),a.on("ArrowRight",()=>k()),a.on("k",()=>l()),a.on("p",()=>l()),a.on("j",()=>k()),a.on("n",()=>k()),a.on("h",()=>c("previous")),a.on("l",()=>c("next")),a.on("o",()=>J()),a.on("v",()=>D()),a.on("V",()=>D(!0)),a.on("c",()=>B()),a.on("C",()=>B(!0)),a.on("m",()=>r()),a.on("A",()=>u()),a.on("s",()=>w()),a.on("d",()=>q()),a.on("f",()=>A()),a.on("F",()=>t()),a.on("R",()=>N()),a.on("?",()=>R()),a.on("#",()=>K()),a.on("/",a=>v(a)),a.on("Escape",()=>e.close()),a.on("P",()=>_()),a.on("N",()=>y()),a.listen()}b("a[data-save-entry]",a=>w(a.target)),b("a[data-toggle-bookmark]",a=>A(a.target)),b("a[data-fetch-content-entry]",()=>q()),b("a[data-action=search]",a=>v(a)),b("a[data-action=setView]",a=>M(a.target)),b("a[data-action=markPageAsRead]",()=>z(event.target,()=>u())),b("a[data-toggle-status]",a=>r(a.target)),b("a[data-action=nsfw]",()=>y()),b("a[data-action=historyGoBack]",()=>history.back());let a=new X;if(a.addEventListener('.tabs.tabs-entry-edit',C.switchHandler),b("a[data-toggle-cache]",a=>ac(a.target)),b("a[data-set-read]",a=>G(f(a.target)),!0),b("a[data-action=showActionMenu]",a=>j.switch(a.target)),b("button[data-action=submitEntry]",a=>C.submitHandler(a)),b("a[data-confirm]",a=>z(a.target,(c,a)=>{let b=new d(c);b.withCallback(()=>{a?window.location.href=a:window.location.reload()}),b.execute()})),document.documentElement.clientWidth<600&&(b(".logo",()=>V()),b(".header nav li",a=>U(a))),document.querySelector('.no-back-forward-cache')&&(window.onpageshow=function(a){a.persisted&&window.location.reload()}),"serviceWorker"in navigator){let a=document.getElementById("service-worker-script");a&&navigator.serviceWorker.register(a.src)}window.addEventListener('beforeinstallprompt',c=>{c.preventDefault();let a=c;const b=document.getElementById('prompt-home-screen');if(b){b.style.display="block";const c=document.getElementById('btn-add-to-home-screen');c&&c.addEventListener('click',c=>{c.preventDefault(),a.prompt(),a.userChoice.then(()=>{a=null,b.style.display="none"})})}})}),!function(a,b){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(c){return b(a,c)}):"object"==typeof module&&module.exports?module.exports=b(a,require("jquery")):a.jQueryBridget=b(a,a.jQuery)}(window,function(a,b){"use strict";function c(e,h,c){function i(d,b,h){var a,g="$()."+e+'("'+b+'")';return d.each(function(l,j){var d=c.data(j,e),i,k;if(!d)return void f(e+" not initialized. Cannot call methods, i.e. "+g);if(i=d[b],!i||"_"==b.charAt(0))return void f(g+" is not a valid method");k=i.apply(d,h),a=void 0===a?k:a}),void 0!==a?a:d}function j(b,a){b.each(function(f,d){var b=c.data(d,e);b?(b.option(a),b._init()):(b=new h(d,a),c.data(d,e,b))})}c=c||b||a.jQuery,c&&(h.prototype.option||(h.prototype.option=function(a){c.isPlainObject(a)&&(this.options=c.extend(!0,this.options,a))}),c.fn[e]=function(a){if("string"==typeof a){var b=g.call(arguments,1);return i(this,a,b)}return j(this,a),this},d(c))}function d(a){!a||a&&a.bridget||(a.bridget=c)}var g=Array.prototype.slice,e=a.console,f="undefined"==typeof e?function(){}:function(a){e.error(a)};return d(b||a.jQuery),c}),function(b,a){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",a):"object"==typeof module&&module.exports?module.exports=a():b.EvEmitter=a()}("undefined"!=typeof window?window:this,function(){function b(){}var a=b.prototype;return a.on=function(a,b){if(a&&b){var c=this._events=this._events||{},d=c[a]=c[a]||[];return-1==d.indexOf(b)&&d.push(b),this}},a.once=function(a,b){if(a&&b){this.on(a,b);var c=this._onceEvents=this._onceEvents||{},d=c[a]=c[a]||{};return d[b]=!0,this}},a.off=function(c,d){var a=this._events&&this._events[c],b;if(a&&a.length)return b=a.indexOf(d),-1!=b&&a.splice(b,1),this},a.emitEvent=function(c,d){var a=this._events&&this._events[c],e,f,b,g;if(a&&a.length){a=a.slice(0),d=d||[];for(e=this._onceEvents&&this._onceEvents[c],f=0;f<a.length;f++)b=a[f],g=e&&e[b],g&&(this.off(c,b),delete e[b]),b.apply(this,d);return this}},a.allOff=function(){delete this._events,delete this._onceEvents},b}),function(b,a){"function"==typeof define&&define.amd?define("get-size/get-size",a):"object"==typeof module&&module.exports?module.exports=a():b.getSize=a()}(window,function(){"use strict";function a(a){var b=parseFloat(a),c=-1==a.indexOf("%")&&!isNaN(b);return c&&b}function h(){}function j(){for(var c={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},a=0,d;g>a;a++)d=b[a],c[d]=0;return c}function d(b){var a=getComputedStyle(b);return a||i("Style returned "+a+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),a}function k(){var b,g,h;e||(e=!0,b=document.createElement("div"),b.style.width="200px",b.style.padding="1px 2px 3px 4px",b.style.borderStyle="solid",b.style.borderWidth="1px 2px 3px 4px",b.style.boxSizing="border-box",g=document.body||document.documentElement,g.appendChild(b),h=d(b),c=200==Math.round(a(h.width)),f.isBoxSizeOuter=c,g.removeChild(b))}function f(f){var h,e,x,i,n,w,p,s,q,v,u,l,r,o,m,t;if(k(),"string"==typeof f&&(f=document.querySelector(f)),f&&"object"==typeof f&&f.nodeType){if(h=d(f),"none"==h.display)return j();e={},e.width=f.offsetWidth,e.height=f.offsetHeight;for(x=e.isBorderBox="border-box"==h.boxSizing,i=0;g>i;i++)n=b[i],w=h[n],p=parseFloat(w),e[n]=isNaN(p)?0:p;return s=e.paddingLeft+e.paddingRight,q=e.paddingTop+e.paddingBottom,v=e.marginLeft+e.marginRight,u=e.marginTop+e.marginBottom,l=e.borderLeftWidth+e.borderRightWidth,r=e.borderTopWidth+e.borderBottomWidth,o=x&&c,m=a(h.width),m!==!1&&(e.width=m+(o?0:s+l)),t=a(h.height),t!==!1&&(e.height=t+(o?0:q+r)),e.innerWidth=e.width-(s+l),e.innerHeight=e.height-(q+r),e.outerWidth=e.width+v,e.outerHeight=e.height+u,e}}var c,i="undefined"==typeof console?h:function(a){console.error(a)},b=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],g=b.length,e=!1;return f}),function(b,a){"use strict","function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",a):"object"==typeof module&&module.exports?module.exports=a():b.matchesSelector=a()}(window,function(){"use strict";var a=function(){var a=window.Element.prototype,c,b,e,d;if(a.matches)return"matches";if(a.matchesSelector)return"matchesSelector";for(c=["webkit","moz","ms","o"],b=0;b<c.length;b++)if(e=c[b],d=e+"MatchesSelector",a[d])return d}();return function(b,c){return b[a](c)}}),function(a,b){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(c){return b(a,c)}):"object"==typeof module&&module.exports?module.exports=b(a,require("desandro-matches-selector")):a.fizzyUIUtils=b(a,a.matchesSelector)}(window,function(b,c){var a={},e,d;return a.extend=function(a,b){for(var c in b)a[c]=b[c];return a},a.modulo=function(b,a){return(b%a+a)%a},e=Array.prototype.slice,a.makeArray=function(a){if(Array.isArray(a))return a;if(null===a||void 0===a)return[];var b="object"==typeof a&&"number"==typeof a.length;return b?e.call(a):[a]},a.removeFrom=function(a,c){var b=a.indexOf(c);-1!=b&&a.splice(b,1)},a.getParent=function(a,b){for(;a.parentNode&&a!=document.body;)if(a=a.parentNode,c(a,b))return a},a.getQueryElement=function(a){return"string"==typeof a?document.querySelector(a):a},a.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},a.filterFindElements=function(d,e){d=a.makeArray(d);var b=[];return d.forEach(function(a){if(a instanceof HTMLElement){if(!e)return void b.push(a);c(a,e)&&b.push(a);for(var f=a.querySelectorAll(e),d=0;d<f.length;d++)b.push(f[d])}}),b},a.debounceMethod=function(d,a,b){b=b||100;var e=d.prototype[a],c=a+"Timeout";d.prototype[a]=function(){var d=this[c],f,a;clearTimeout(d),f=arguments,a=this,this[c]=setTimeout(function(){e.apply(a,f),delete a[c]},b)}},a.docReady=function(a){var b=document.readyState;"complete"==b||"interactive"==b?setTimeout(a):document.addEventListener("DOMContentLoaded",a)},a.toDashed=function(a){return a.replace(/(.)([A-Z])/g,function(c,a,b){return a+"-"+b}).toLowerCase()},d=b.console,a.htmlInit=function(e,c){a.docReady(function(){var g=a.toDashed(c),f="data-"+g,i=document.querySelectorAll("["+f+"]"),j=document.querySelectorAll(".js-"+g),k=a.makeArray(i).concat(a.makeArray(j)),l=f+"-options",h=b.jQuery;k.forEach(function(a){var b,g=a.getAttribute(f)||a.getAttribute(l),i;try{b=g&&JSON.parse(g)}catch(b){return void(d&&d.error("Error parsing "+f+" on "+a.className+": "+b))}i=new e(a,b),h&&h.data(a,c,i)})})},a}),function(a,b){"function"==typeof define&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],b):"object"==typeof module&&module.exports?module.exports=b(require("ev-emitter"),require("get-size")):(a.Outlayer={},a.Outlayer.Item=b(a.EvEmitter,a.getSize))}(window,function(n,m){var f,b,d,c,j,a,h,i,g;"use strict";function l(a){for(var b in a)return!1;return b=null,!0}function e(a,b){a&&(this.element=a,this.layout=b,this.position={x:0,y:0},this._create())}function k(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}return f=document.documentElement.style,b="string"==typeof f.transition?"transition":"WebkitTransition",d="string"==typeof f.transform?"transform":"WebkitTransform",c={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[b],j={transform:d,transition:b,transitionDuration:b+"Duration",transitionProperty:b+"Property",transitionDelay:b+"Delay"},a=e.prototype=Object.create(n.prototype),a.constructor=e,a._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},a.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},a.getSize=function(){this.size=m(this.element)},a.css=function(b){var c=this.element.style,a,d;for(a in b)d=j[a]||a,c[d]=b[a]},a.getPosition=function(){var g=getComputedStyle(this.element),h=this.layout._getOption("originLeft"),d=this.layout._getOption("originTop"),e=g[h?"left":"right"],f=g[d?"top":"bottom"],b=parseFloat(e),a=parseFloat(f),c=this.layout.size;-1!=e.indexOf("%")&&(b=b/100*c.width),-1!=f.indexOf("%")&&(a=a/100*c.height),b=isNaN(b)?0:b,a=isNaN(a)?0:a,b-=h?c.paddingLeft:c.paddingRight,a-=d?c.paddingTop:c.paddingBottom,this.position.x=b,this.position.y=a},a.layoutPosition=function(){var d=this.layout.size,a={},b=this.layout._getOption("originLeft"),c=this.layout._getOption("originTop"),e=b?"paddingLeft":"paddingRight",f=b?"left":"right",g=b?"right":"left",h=this.position.x+d[e],i,j,k,l;a[f]=this.getXValue(h),a[g]="",i=c?"paddingTop":"paddingBottom",j=c?"top":"bottom",k=c?"bottom":"top",l=this.position.y+d[i],a[j]=this.getYValue(l),a[k]="",this.css(a),this.emitEvent("layout",[this])},a.getXValue=function(a){var b=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!b?a/this.layout.size.width*100+"%":a+"px"},a.getYValue=function(a){var b=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&b?a/this.layout.size.height*100+"%":a+"px"},a._transitionTo=function(a,b){var d,e,f,g,h,c;if(this.getPosition(),d=this.position.x,e=this.position.y,f=a==this.position.x&&b==this.position.y,this.setPosition(a,b),f&&!this.isTransitioning)return void this.layoutPosition();g=a-d,h=b-e,c={},c.transform=this.getTranslate(g,h),this.transition({to:c,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},a.getTranslate=function(a,b){var c=this.layout._getOption("originLeft"),d=this.layout._getOption("originTop");return a=c?a:-a,b=d?b:-b,"translate3d("+a+"px, "+b+"px, 0)"},a.goTo=function(a,b){this.setPosition(a,b),this.layoutPosition()},a.moveTo=a._transitionTo,a.setPosition=function(a,b){this.position.x=parseFloat(a),this.position.y=parseFloat(b)},a._nonTransition=function(a){this.css(a.to),a.isCleaning&&this._removeStyles(a.to);for(var b in a.onTransitionEnd)a.onTransitionEnd[b].call(this)},a.transition=function(a){var c,b,d;if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(a);c=this._transn;for(b in a.onTransitionEnd)c.onEnd[b]=a.onTransitionEnd[b];for(b in a.to)c.ingProperties[b]=!0,a.isCleaning&&(c.clean[b]=!0);a.from&&(this.css(a.from),d=this.element.offsetHeight,d=null),this.enableTransition(a.to),this.css(a.to),this.isTransitioning=!0},h="opacity,"+k(d),a.enableTransition=function(){if(!this.isTransitioning){var a=this.layout.options.transitionDuration;a="number"==typeof a?a+"ms":a,this.css({transitionProperty:h,transitionDuration:a,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(c,this,!1)}},a.onwebkitTransitionEnd=function(a){this.ontransitionend(a)},a.onotransitionend=function(a){this.ontransitionend(a)},i={"-webkit-transform":"transform"},a.ontransitionend=function(c){var a,b,d;c.target===this.element&&(a=this._transn,b=i[c.propertyName]||c.propertyName,(delete a.ingProperties[b],l(a.ingProperties)&&this.disableTransition(),b in a.clean&&(this.element.style[c.propertyName]="",delete a.clean[b]),b in a.onEnd)&&(d=a.onEnd[b],d.call(this),delete a.onEnd[b]),this.emitEvent("transitionEnd",[this]))},a.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(c,this,!1),this.isTransitioning=!1},a._removeStyles=function(b){var a={},c;for(c in b)a[c]="";this.css(a)},g={transitionProperty:"",transitionDuration:"",transitionDelay:""},a.removeTransitionStyles=function(){this.css(g)},a.stagger=function(a){a=isNaN(a)?0:a,this.staggerDelay=a+"ms"},a.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},a.remove=function(){return b&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),void this.hide()):void this.removeElem()},a.reveal=function(){delete this.isHidden,this.css({display:""});var a=this.layout.options,b={},c=this.getHideRevealTransitionEndProperty("visibleStyle");b[c]=this.onRevealTransitionEnd,this.transition({from:a.hiddenStyle,to:a.visibleStyle,isCleaning:!0,onTransitionEnd:b})},a.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},a.getHideRevealTransitionEndProperty=function(b){var a=this.layout.options[b],c;if(a.opacity)return"opacity";for(c in a)return c},a.hide=function(){this.isHidden=!0,this.css({display:""});var a=this.layout.options,b={},c=this.getHideRevealTransitionEndProperty("hiddenStyle");b[c]=this.onHideTransitionEnd,this.transition({from:a.visibleStyle,to:a.hiddenStyle,isCleaning:!0,onTransitionEnd:b})},a.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},a.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},e}),function(a,b){"use strict","function"==typeof define&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(c,d,e,f){return b(a,c,d,e,f)}):"object"==typeof module&&module.exports?module.exports=b(a,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):a.Outlayer=b(a,a.EvEmitter,a.getSize,a.fizzyUIUtils,a.Outlayer.Item)}(window,function(g,n,f,b,h){var j,d,i,l,e,a,k;"use strict";function c(c,g){var a=b.getQueryElement(c),f,h;if(!a)return void(j&&j.error("Bad element for "+this.constructor.namespace+": "+(a||c)));this.element=a,d&&(this.$element=d(this.element)),this.options=b.extend({},this.constructor.defaults),this.option(g),f=++l,this.element.outlayerGUID=f,e[f]=this,this._create(),h=this._getOption("initLayout"),h&&this.layout()}function m(b){function a(){b.apply(this,arguments)}return a.prototype=Object.create(b.prototype),a.prototype.constructor=a,a}function o(c){var a,b,d,e;return"number"==typeof c?c:(a=c.match(/(^\d*\.?\d*)(\w*)/),b=a&&a[1],d=a&&a[2],!b.length)?0:(b=parseFloat(b),e=k[d]||1,b*e)}return j=g.console,d=g.jQuery,i=function(){},l=0,e={},c.namespace="outlayer",c.Item=h,c.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},a=c.prototype,b.extend(a,n.prototype),a.option=function(a){b.extend(this.options,a)},a._getOption=function(b){var a=this.constructor.compatOptions[b];return a&&void 0!==this.options[a]?this.options[a]:this.options[b]},c.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},a._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),b.extend(this.element.style,this.options.containerStyle);var a=this._getOption("resize");a&&this.bindResize()},a.reloadItems=function(){this.items=this._itemize(this.element.children)},a._itemize=function(d){for(var b=this._filterFindItemElements(d),e=this.constructor.Item,c=[],a=0,f,g;a<b.length;a++)f=b[a],g=new e(f,this),c.push(g);return c},a._filterFindItemElements=function(a){return b.filterFindElements(a,this.options.itemSelector)},a.getItemElements=function(){return this.items.map(function(a){return a.element})},a.layout=function(){this._resetLayout(),this._manageStamps();var a=this._getOption("layoutInstant"),b=void 0!==a?a:!this._isLayoutInited;this.layoutItems(this.items,b),this._isLayoutInited=!0},a._init=a.layout,a._resetLayout=function(){this.getSize()},a.getSize=function(){this.size=f(this.element)},a._getMeasurement=function(c,d){var b,a=this.options[c];a?("string"==typeof a?b=this.element.querySelector(a):a instanceof HTMLElement&&(b=a),this[c]=b?f(b)[d]:a):this[c]=0},a.layoutItems=function(a,b){a=this._getItemsForLayout(a),this._layoutItems(a,b),this._postLayout()},a._getItemsForLayout=function(a){return a.filter(function(a){return!a.isIgnored})},a._layoutItems=function(a,c){if(this._emitCompleteOnItems("layout",a),a&&a.length){var b=[];a.forEach(function(a){var d=this._getItemLayoutPosition(a);d.item=a,d.isInstant=c||a.isLayoutInstant,b.push(d)},this),this._processLayoutQueue(b)}},a._getItemLayoutPosition=function(){return{x:0,y:0}},a._processLayoutQueue=function(a){this.updateStagger(),a.forEach(function(a,b){this._positionItem(a.item,a.x,a.y,a.isInstant,b)},this)},a.updateStagger=function(){var a=this.options.stagger;return null===a||void 0===a?void(this.stagger=0):(this.stagger=o(a),this.stagger)},a._positionItem=function(a,b,c,d,e){d?a.goTo(b,c):(a.stagger(e*this.stagger),a.moveTo(b,c))},a._postLayout=function(){this.resizeContainer()},a.resizeContainer=function(){var b=this._getOption("resizeContainer"),a;b&&(a=this._getContainerSize(),a&&(this._setContainerMeasure(a.width,!0),this._setContainerMeasure(a.height,!1)))},a._getContainerSize=i,a._setContainerMeasure=function(b,c){if(void 0!==b){var a=this.size;a.isBorderBox&&(b+=c?a.paddingLeft+a.paddingRight+a.borderLeftWidth+a.borderRightWidth:a.paddingBottom+a.paddingTop+a.borderTopWidth+a.borderBottomWidth),b=Math.max(b,0),this.element.style[c?"width":"height"]=b+"px"}},a._emitCompleteOnItems=function(f,a){var e,c,b;function d(){e.dispatchEvent(f+"Complete",null,[a])}function g(){b++,b==c&&d()}if(e=this,c=a.length,!a||!c)return void d();b=0,a.forEach(function(a){a.once(f,g)})},a.dispatchEvent=function(c,a,b){var f=a?[a].concat(b):b,e;this.emitEvent(c,f),d&&((this.$element=this.$element||d(this.element),a)?(e=d.Event(a),e.type=c,this.$element.trigger(e,b)):this.$element.trigger(c,b))},a.ignore=function(b){var a=this.getItem(b);a&&(a.isIgnored=!0)},a.unignore=function(b){var a=this.getItem(b);a&&delete a.isIgnored},a.stamp=function(a){a=this._find(a),a&&(this.stamps=this.stamps.concat(a),a.forEach(this.ignore,this))},a.unstamp=function(a){a=this._find(a),a&&a.forEach(function(a){b.removeFrom(this.stamps,a),this.unignore(a)},this)},a._find=function(a){return a?("string"==typeof a&&(a=this.element.querySelectorAll(a)),a=b.makeArray(a)):void 0},a._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},a._getBoundingRect=function(){var b=this.element.getBoundingClientRect(),a=this.size;this._boundingRect={left:b.left+a.paddingLeft+a.borderLeftWidth,top:b.top+a.paddingTop+a.borderTopWidth,right:b.right-(a.paddingRight+a.borderRightWidth),bottom:b.bottom-(a.paddingBottom+a.borderBottomWidth)}},a._manageStamp=i,a._getElementOffset=function(d){var a=d.getBoundingClientRect(),b=this._boundingRect,c=f(d),e={left:a.left-b.left-c.marginLeft,top:a.top-b.top-c.marginTop,right:b.right-a.right-c.marginRight,bottom:b.bottom-a.bottom-c.marginBottom};return e},a.handleEvent=b.handleEvent,a.bindResize=function(){g.addEventListener("resize",this),this.isResizeBound=!0},a.unbindResize=function(){g.removeEventListener("resize",this),this.isResizeBound=!1},a.onresize=function(){this.resize()},b.debounceMethod(c,"onresize",100),a.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},a.needsResizeLayout=function(){var a=f(this.element),b=this.size&&a;return b&&a.innerWidth!==this.size.innerWidth},a.addItems=function(b){var a=this._itemize(b);return a.length&&(this.items=this.items.concat(a)),a},a.appended=function(b){var a=this.addItems(b);a.length&&(this.layoutItems(a,!0),this.reveal(a))},a.prepended=function(c){var a=this._itemize(c),b;a.length&&(b=this.items.slice(0),this.items=a.concat(b),this._resetLayout(),this._manageStamps(),this.layoutItems(a,!0),this.reveal(a),this.layoutItems(b))},a.reveal=function(a){if(this._emitCompleteOnItems("reveal",a),a&&a.length){var b=this.updateStagger();a.forEach(function(a,c){a.stagger(c*b),a.reveal()})}},a.hide=function(a){if(this._emitCompleteOnItems("hide",a),a&&a.length){var b=this.updateStagger();a.forEach(function(a,c){a.stagger(c*b),a.hide()})}},a.revealItemElements=function(a){var b=this.getItems(a);this.reveal(b)},a.hideItemElements=function(a){var b=this.getItems(a);this.hide(b)},a.getItem=function(c){for(var a=0,b;a<this.items.length;a++)if(b=this.items[a],b.element==c)return b},a.getItems=function(a){a=b.makeArray(a);var c=[];return a.forEach(function(b){var a=this.getItem(b);a&&c.push(a)},this),c},a.remove=function(c){var a=this.getItems(c);this._emitCompleteOnItems("remove",a),a&&a.length&&a.forEach(function(a){a.remove(),b.removeFrom(this.items,a)},this)},a.destroy=function(){var a=this.element.style,b;a.height="",a.position="",a.width="",this.items.forEach(function(a){a.destroy()}),this.unbindResize(),b=this.element.outlayerGUID,delete e[b],delete this.element.outlayerGUID,d&&d.removeData(this.element,this.constructor.namespace)},c.data=function(a){a=b.getQueryElement(a);var c=a&&a.outlayerGUID;return c&&e[c]},c.create=function(e,f){var a=m(c);return a.defaults=b.extend({},c.defaults),b.extend(a.defaults,f),a.compatOptions=b.extend({},c.compatOptions),a.namespace=e,a.data=c.data,a.Item=m(h),b.htmlInit(a,e),d&&d.bridget&&d.bridget(e,a),a},k={ms:1,s:1e3},c.Item=h,c}),function(a,b){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],b):"object"==typeof module&&module.exports?module.exports=b(require("outlayer"),require("get-size")):a.Masonry=b(a.Outlayer,a.getSize)}(window,function(d,b){var c=d.create("masonry"),a;return c.compatOptions.fitWidth="isFitWidth",a=c.prototype,a._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var a=0;a<this.cols;a++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},a.measureColumns=function(){var d,e,a,f,c,g,h;this.getContainerWidth(),!this.columnWidth&&(d=this.items[0],e=d&&d.element,this.columnWidth=e&&b(e).outerWidth||this.containerWidth),a=this.columnWidth+=this.gutter,f=this.containerWidth+this.gutter,c=f/a,g=a-f%a,h=g&&1>g?"round":"floor",c=Math[h](c),this.cols=Math.max(c,1)},a.getContainerWidth=function(){var c=this._getOption("fitWidth"),d=c?this.element.parentNode:this.element,a=b(d);this.containerWidth=a&&a.innerWidth},a._getItemLayoutPosition=function(b){var e,f,c,g,a,h,i,j,d;b.getSize(),e=b.size.outerWidth%this.columnWidth,f=e&&1>e?"round":"ceil",c=Math[f](b.size.outerWidth/this.columnWidth),c=Math.min(c,this.cols);for(g=this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition",a=this[g](c,b),h={x:this.columnWidth*a.col,y:a.y},i=a.y+b.size.outerHeight,j=c+a.col,d=a.col;j>d;d++)this.colYs[d]=i;return h},a._getTopColPosition=function(c){var a=this._getTopColGroup(c),b=Math.min.apply(Math,a);return{col:a.indexOf(b),y:b}},a._getTopColGroup=function(b){if(2>b)return this.colYs;for(var c=[],d=this.cols+1-b,a=0;d>a;a++)c[a]=this._getColGroupY(a,b);return c},a._getColGroupY=function(a,b){if(2>b)return this.colYs[a];var c=this.colYs.slice(a,a+b);return Math.max.apply(Math,c)},a._getHorizontalColPosition=function(b,c){var a=this.horizontalColIndex%this.cols,d=b>1&&a+b>this.cols,e;return a=d?0:a,e=c.size.outerWidth&&c.size.outerHeight,this.horizontalColIndex=e?a+b:this.horizontalColIndex,{col:a,y:this._getColGroupY(a,b)}},a._manageStamp=function(g){var h=b(g),c=this._getElementOffset(g),j=this._getOption("originLeft"),i=j?c.left:c.right,f=i+h.outerWidth,e=Math.floor(i/this.columnWidth),a,k,l,d;e=Math.max(0,e),a=Math.floor(f/this.columnWidth),a-=f%this.columnWidth?0:1,a=Math.min(this.cols-1,a);for(k=this._getOption("originTop"),l=(k?c.top:c.bottom)+h.outerHeight,d=e;a>=d;d++)this.colYs[d]=Math.max(l,this.colYs[d])},a._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var a={height:this.maxY};return this._getOption("fitWidth")&&(a.width=this._getContainerFitWidth()),a},a._getContainerFitWidth=function(){for(var a=0,b=this.cols;--b&&0===this.colYs[b];)a++;return(this.cols-a)*this.columnWidth-this.gutter},a.needsResizeLayout=function(){var a=this.containerWidth;return this.getContainerWidth(),a!=this.containerWidth},c}),!function(b,a){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",a):"object"==typeof module&&module.exports?module.exports=a():b.EvEmitter=a()}("undefined"!=typeof window?window:this,function(){function b(){}var a=b.prototype;return a.on=function(a,b){if(a&&b){var c=this._events=this._events||{},d=c[a]=c[a]||[];return d.indexOf(b)==-1&&d.push(b),this}},a.once=function(a,b){if(a&&b){this.on(a,b);var c=this._onceEvents=this._onceEvents||{},d=c[a]=c[a]||{};return d[b]=!0,this}},a.off=function(c,d){var a=this._events&&this._events[c],b;if(a&&a.length)return b=a.indexOf(d),b!=-1&&a.splice(b,1),this},a.emitEvent=function(c,d){var a=this._events&&this._events[c],e,f,b,g;if(a&&a.length){a=a.slice(0),d=d||[];for(e=this._onceEvents&&this._onceEvents[c],f=0;f<a.length;f++)b=a[f],g=e&&e[b],g&&(this.off(c,b),delete e[b]),b.apply(this,d);return this}},a.allOff=function(){delete this._events,delete this._onceEvents},b}),function(a,b){"use strict","function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(c){return b(a,c)}):"object"==typeof module&&module.exports?module.exports=b(a,require("ev-emitter")):a.imagesLoaded=b(a,a.EvEmitter)}("undefined"!=typeof window?window:this,function(f,h){var c,e,g,j;function i(a,b){for(var c in b)a[c]=b[c];return a}function k(a){if(Array.isArray(a))return a;var b="object"==typeof a&&"number"==typeof a.length;return b?g.call(a):[a]}function a(b,d,f){if(!(this instanceof a))return new a(b,d,f);var g=b;return"string"==typeof b&&(g=document.querySelectorAll(b)),g?(this.elements=k(g),this.options=i({},this.options),"function"==typeof d?f=d:i(this.options,d),f&&this.on("always",f),this.getImages(),c&&(this.jqDeferred=new c.Deferred),void setTimeout(this.check.bind(this))):void e.error("Bad element for imagesLoaded "+(g||b))}function b(a){this.img=a}function d(a,b){this.url=a,this.element=b,this.img=new Image}return c=f.jQuery,e=f.console,g=Array.prototype.slice,a.prototype=Object.create(h.prototype),a.prototype.options={},a.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},a.prototype.addElementImages=function(b){var c,d,a,f,e,g;if("IMG"==b.nodeName&&this.addImage(b),this.options.background===!0&&this.addElementBackgroundImages(b),c=b.nodeType,c&&j[c]){for(d=b.querySelectorAll("img"),a=0;a<d.length;a++)f=d[a],this.addImage(f);if("string"==typeof this.options.background){e=b.querySelectorAll(this.options.background);for(a=0;a<e.length;a++)g=e[a],this.addElementBackgroundImages(g)}}},j={1:!0,9:!0,11:!0},a.prototype.addElementBackgroundImages=function(c){var b=getComputedStyle(c),d,a,e;if(b)for(d=/url\((['"])?(.*?)\1\)/gi,a=d.exec(b.backgroundImage);null!==a;)e=a&&a[2],e&&this.addBackground(e,c),a=d.exec(b.backgroundImage)},a.prototype.addImage=function(a){var c=new b(a);this.images.push(c)},a.prototype.addBackground=function(a,b){var c=new d(a,b);this.images.push(c)},a.prototype.check=function(){function a(a,c,d){setTimeout(function(){b.progress(a,c,d)})}var b=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(b){b.once("progress",a),b.check()}):void this.complete()},a.prototype.progress=function(a,b,c){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!a.isLoaded,this.emitEvent("progress",[this,a,b]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,a),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&e&&e.log("progress: "+c,a,b)},a.prototype.complete=function(){var a=this.hasAnyBroken?"fail":"done",b;this.isComplete=!0,this.emitEvent(a,[this]),this.emitEvent("always",[this]),this.jqDeferred&&(b=this.hasAnyBroken?"reject":"resolve",this.jqDeferred[b](this))},b.prototype=Object.create(h.prototype),b.prototype.check=function(){var a=this.getIsImageComplete();return a?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},b.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},b.prototype.confirm=function(a,b){this.isLoaded=a,this.emitEvent("progress",[this,this.img,b])},b.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},b.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},b.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},b.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},d.prototype=Object.create(b.prototype),d.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url;var a=this.getIsImageComplete();a&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},d.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},d.prototype.confirm=function(a,b){this.isLoaded=a,this.emitEvent("progress",[this,this.element,b])},a.makeJQueryPlugin=function(b){b=b||f.jQuery,b&&(c=b,c.fn.imagesLoaded=function(b,d){var e=new a(this,b,d);return e.jqDeferred.promise(c(this))})},a.makeJQueryPlugin(),a})}()`,
	"service-worker": `self.addEventListener("fetch",a=>{a.request.url.includes("/feed/icon/")&&a.respondWith(caches.open("feed_icons").then(b=>b.match(a.request).then(c=>c||fetch(a.request).then(c=>(b.put(a.request,c.clone()),c)))))})`,
}

var JavascriptsChecksums = map[string]string{
	"app":            "01d3a4f7064e2ce89fa4a55ab9203c4ef3a0bcba345d504b419db08acd1c07d2",
	"service-worker": "730f10dc6a52e0bd9271da0c3b0103368893f3feb0a092fd585ac5b7abedb4ac",
}
